---
title: 自定义 Microsoft Graph 中的项目见解隐私
description: ''
author: simonhult
localization_priority: Priority
ms.prod: insights
ms.custom: scenarios:getting-started
ms.openlocfilehash: a2f4c86c5c4de0d87034e2db708adde270e1b243
ms.sourcegitcommit: 20b951f8bd245bb3a2bc7d3f5533e8619e9db084
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/27/2020
ms.locfileid: "45427493"
---
# <a name="customizing-item-insights-privacy-in-microsoft-graph-preview"></a><span data-ttu-id="ae29a-102">自定义 Microsoft Graph 中的项目见解隐私（预览版）</span><span class="sxs-lookup"><span data-stu-id="ae29a-102">Customizing item insights privacy in Microsoft Graph (preview)</span></span>

<span data-ttu-id="ae29a-103">项目见解隐私设置提供了在用户与 Microsoft 365 中其他项目（例如文档或站点）之间，对派生自 Microsoft Graph 见解的可见性进行配置的能力。</span><span class="sxs-lookup"><span data-stu-id="ae29a-103">Item insights privacy settings provide the ability to configure the visibility of insights derived from Microsoft Graph, between users and other items (such as documents or sites) in Microsoft 365.</span></span> <span data-ttu-id="ae29a-104">可通过预先存在的控件禁用 Delve 应用，但允许其他基于见解的体验，以继续提供协助。</span><span class="sxs-lookup"><span data-stu-id="ae29a-104">You can disable the Delve app via the pre-existing controls, but allow other insights-based experiences to continue to provide assistance.</span></span>

## <a name="background"></a><span data-ttu-id="ae29a-105">背景</span><span class="sxs-lookup"><span data-stu-id="ae29a-105">Background</span></span>
<span data-ttu-id="ae29a-106">2014 年首次发布时，Office Graph 是 Delve 的后端服务。</span><span class="sxs-lookup"><span data-stu-id="ae29a-106">At the time of first release in 2014, Office Graph was a backend service for Delve.</span></span> <span data-ttu-id="ae29a-107">它们为 Office Graph 见解和 Delve 用户界面共享了一组数据保护控件。</span><span class="sxs-lookup"><span data-stu-id="ae29a-107">They shared a set of privacy controls over both the Office Graph insights and the Delve user experience.</span></span> <span data-ttu-id="ae29a-108">此后，作为每个 Microsoft 365 体验和 Microsoft Graph 的一部分，Office Graph 不断发展并变得更加独立和强大。</span><span class="sxs-lookup"><span data-stu-id="ae29a-108">Office Graph has since evolved and become more independent and powerful, as part of every Microsoft 365 experience and of Microsoft Graph.</span></span> <span data-ttu-id="ae29a-109">为了提供一致的 Microsoft Graph 架构，Microsoft引入了一个[itemInsights](/graph/api/resources/itemInsights?view=graph-rest-beta)实体，其继承了先前存在的 [officeGraphInsights](/graph/api/resources/officegraphinsights?view=graph-rest-beta)资源的所有属性，并保留了\*\* officeGraphInsights\*\*，以向后兼容。</span><span class="sxs-lookup"><span data-stu-id="ae29a-109">To offer a coherent Microsoft Graph schema, Microsoft introduced an [itemInsights](/graph/api/resources/itemInsights?view=graph-rest-beta) entity which inherits all the properties of the pre-existing [officeGraphInsights](/graph/api/resources/officegraphinsights?view=graph-rest-beta) resource, and has kept **officeGraphInsights** around for backward compatibility.</span></span> <span data-ttu-id="ae29a-110">**itemInsights** 的引入还使两个独立作品的隐私故事分离。</span><span class="sxs-lookup"><span data-stu-id="ae29a-110">The introduction of **itemInsights** also de-couples the privacy story for the two independent pieces.</span></span>  

<span data-ttu-id="ae29a-111">虽然现有应用可以继续使用 **officeGraphInsights**，但这些应用应升级到 **itemInsights**，以获得在 Office Graph 和 Delve 中微调项目见解的灵活性。</span><span class="sxs-lookup"><span data-stu-id="ae29a-111">While existing apps could continue to use **officeGraphInsights**, these apps should upgrade to **itemInsights** to gain the flexibility to fine-tune item insights in Office Graph and Delve.</span></span>

## <a name="how-to-customize-item-insights"></a><span data-ttu-id="ae29a-112">如何自定义项目见解？</span><span class="sxs-lookup"><span data-stu-id="ae29a-112">How to customize item insights?</span></span>
<span data-ttu-id="ae29a-113">默认情况下，将为组织启用项目见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-113">By default, item insights are enabled for an organization.</span></span> <span data-ttu-id="ae29a-114">要为组织中的所有用户禁用项目见解，请将 **isEnabledInOrganization** 属性设置为 `false`。</span><span class="sxs-lookup"><span data-stu-id="ae29a-114">To disable item insights for all users in the organization, set the **isEnabledInOrganization** property to `false`.</span></span> <span data-ttu-id="ae29a-115">若要禁用 Azure AD 组中用户_子集_的项目见解，将 \*\*disabledForGrou \*\* 属性设置为该组的 ID；了解有关[创建群组并将用户添加为成员](/azure/active-directory/fundamentals/active-directory-groups-create-azure-portal)的详细信息。</span><span class="sxs-lookup"><span data-stu-id="ae29a-115">To disable item insights for a _subset_ of users in an Azure AD group, set the **disabledForGroup** property to the ID of that group; find out more about [creating a group and adding users as members](/azure/active-directory/fundamentals/active-directory-groups-create-azure-portal).</span></span> 

<span data-ttu-id="ae29a-116">这些设置为管理员提供了灵活性，使其可以使用 Azure AD 工具并仅对指定组的成员而不是整个组织禁用项目见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-116">These settings provide flexibility for administrators to use Azure AD tools and disable item insights for only members of the specified group and not necessarily across the organization.</span></span> <span data-ttu-id="ae29a-117">通过在某个应用程序、PowerShell 或具有适当权限的其它应用中[更新项目见解设置](/graph/api/iteminsightssettings-update?view=graph-rest-beta)，配置每个属性。</span><span class="sxs-lookup"><span data-stu-id="ae29a-117">Configure each of these properties by [updating item insights settings](/graph/api/iteminsightssettings-update?view=graph-rest-beta) in an app, PowerShell, or other applications with due permissions.</span></span>

<span data-ttu-id="ae29a-118">注意，读取或更新这些设置需要_全局管理员角色_。</span><span class="sxs-lookup"><span data-stu-id="ae29a-118">Keep in mind that the _global administrator role_ is required to read or update these settings.</span></span> 

### <a name="available-configurations"></a><span data-ttu-id="ae29a-119">可用配置</span><span class="sxs-lookup"><span data-stu-id="ae29a-119">Available configurations</span></span>
<span data-ttu-id="ae29a-120">通过相应[更新](/graph/api/iteminsightssettings-update?view=graph-rest-beta) **isEnabledInOrganization** 和 **disabledForGroup** 属性，配置组织中用户的项目见解设置。</span><span class="sxs-lookup"><span data-stu-id="ae29a-120">Configure item insights settings for users in an organization by [updating](/graph/api/iteminsightssettings-update?view=graph-rest-beta) the **isEnabledInOrganization** and **disabledForGroup** properties accordingly.</span></span>

| <span data-ttu-id="ae29a-121">如何启用项目见解</span><span class="sxs-lookup"><span data-stu-id="ae29a-121">How item insights are enabled</span></span> | <span data-ttu-id="ae29a-122">isEnabledInOrganization</span><span class="sxs-lookup"><span data-stu-id="ae29a-122">isEnabledInOrganization</span></span> | <span data-ttu-id="ae29a-123">disabledForGroup</span><span class="sxs-lookup"><span data-stu-id="ae29a-123">disabledForGroup</span></span> |
|:-------------|:------------|:------------|
| <span data-ttu-id="ae29a-124">整个组织（默认）</span><span class="sxs-lookup"><span data-stu-id="ae29a-124">Entire organization (default)</span></span> | `true` | <span data-ttu-id="ae29a-125">空</span><span class="sxs-lookup"><span data-stu-id="ae29a-125">empty</span></span> |
| <span data-ttu-id="ae29a-126">组织用户子集禁用</span><span class="sxs-lookup"><span data-stu-id="ae29a-126">Disabled for a subset of users in the organization</span></span> | `true` | <span data-ttu-id="ae29a-127">包含用户子集的 Azure AD 组 ID</span><span class="sxs-lookup"><span data-stu-id="ae29a-127">ID of the Azure AD group which contains the subset of users</span></span> |
| <span data-ttu-id="ae29a-128">整个组织禁用</span><span class="sxs-lookup"><span data-stu-id="ae29a-128">Disabled for the entire organization</span></span> | `false` | <span data-ttu-id="ae29a-129">忽略</span><span class="sxs-lookup"><span data-stu-id="ae29a-129">ignored</span></span> |

<span data-ttu-id="ae29a-130">更新项目见解设置时，请记住以下几点：</span><span class="sxs-lookup"><span data-stu-id="ae29a-130">Keep the following in mind when updating item insights settings:</span></span>
- <span data-ttu-id="ae29a-131">项目见解隐私设置(**itemInsightsSettings** 资源)仅在 beta 终结点中可用。</span><span class="sxs-lookup"><span data-stu-id="ae29a-131">The item insights privacy settings (**itemInsightsSettings** resource) are available only in the beta endpoint.</span></span>
- <span data-ttu-id="ae29a-132">从 Azure 门户获取 Azure AD 组 ID，并确保该组存在，因为更新操作不会检查组是否存在。</span><span class="sxs-lookup"><span data-stu-id="ae29a-132">Get the ID of an Azure AD group from the Azure portal, and make sure the group exists, because the update operation does not check the existence of the group.</span></span> <span data-ttu-id="ae29a-133">在 **disabledForGroup** 中指定不存在的组_不会_禁用组织中任何用户的见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-133">Specifying a non-existent group in **disabledForGroup** does _not_ disable insights for any users in the organization.</span></span>
- <span data-ttu-id="ae29a-134">更新设置最多可能需要 8 个小时才能应用到所有 Microsoft 365 体验中。</span><span class="sxs-lookup"><span data-stu-id="ae29a-134">Updating settings can take up to 8 hours to be applied across all Microsoft 365 experiences.</span></span>
- <span data-ttu-id="ae29a-135">无论项目见解设置如何，Delve 都会继续采用 Delve 租户和用户级别的[隐私设置](/sharepoint/delve-for-office-365-admins#control-access-to-delve-and-related-features?view=graph-rest-beta)。</span><span class="sxs-lookup"><span data-stu-id="ae29a-135">Regardless of item insights settings, Delve continues to respect Delve tenant and user level [privacy settings](/sharepoint/delve-for-office-365-admins#control-access-to-delve-and-related-features?view=graph-rest-beta).</span></span>


## <a name="behavior-changes-in-ui-and-apis"></a><span data-ttu-id="ae29a-136">UI 和 API 中的行为更改</span><span class="sxs-lookup"><span data-stu-id="ae29a-136">Behavior changes in UI and APIs</span></span>
<span data-ttu-id="ae29a-137">某些[趋势](/graph/api/resources/insights-trending)或[已使用](/graph/api/resources/insights-used)的见解可能会受到影响，如下所述。</span><span class="sxs-lookup"><span data-stu-id="ae29a-137">Some [trending](/graph/api/resources/insights-trending) or [used](/graph/api/resources/insights-used) insights may be affected as described below.</span></span> <span data-ttu-id="ae29a-138">随着时间推移，这些见解的范围和类型将得到扩展。</span><span class="sxs-lookup"><span data-stu-id="ae29a-138">Over time, the scope and types of these insights will be extended.</span></span> 

- <span data-ttu-id="ae29a-139">对于禁用项目见解的用户，个人资料卡不会显示其**使用过的**文档。</span><span class="sxs-lookup"><span data-stu-id="ae29a-139">The profile card of a user who has disabled item insights does not show their **used** documents.</span></span> <span data-ttu-id="ae29a-140">相同的限制适用于 Microsoft 必应搜索的配置文件结果，其中“**最近文件**”窗格为空。</span><span class="sxs-lookup"><span data-stu-id="ae29a-140">The same limitation applies to the profile result of Microsoft Search in Bing, where the **Recent Files** panel becomes empty.</span></span> <span data-ttu-id="ae29a-141">此外，降低了首字母缩写词扩展搜索精度。</span><span class="sxs-lookup"><span data-stu-id="ae29a-141">Furthermore, the precision of acronym-expansion in search is reduced.</span></span>

- <span data-ttu-id="ae29a-142">在 Delve 中，禁用项目见解的用户将其文档隐藏。</span><span class="sxs-lookup"><span data-stu-id="ae29a-142">In Delve, a user who has disabled item insights has their documents hidden.</span></span> 

- <span data-ttu-id="ae29a-143">禁用项目见解的任何用户的活动都将从组织范围的见解中删除。</span><span class="sxs-lookup"><span data-stu-id="ae29a-143">Any user who disables item insights has their activity removed from organization-wide analytics.</span></span> <span data-ttu-id="ae29a-144">通常，此类分析会为用户的同事提供从 Outlook 到 OneDrive 和 SharePoint 的多种体验的辅助见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-144">Normally such analytics suggests assistive insights to the user's colleagues across a multitude of experiences, ranging from Outlook to OneDrive and SharePoint.</span></span> <span data-ttu-id="ae29a-145">无论设置如何，分析始终是匿名的，但是当用户禁用见解时，该用户的活动将无法提高其他人的工作效率。</span><span class="sxs-lookup"><span data-stu-id="ae29a-145">The analytics is always anonymous regardless of settings, but when a user disables insights, the user's activity is excluded from improving the productivity of others.</span></span>

- <span data-ttu-id="ae29a-146">对于已禁用项目见解的用户，在 Microsoft Graph API 中查询[趋势](/graph/api/resources/insights-trending)和[已使用](/graph/api/resources/insights-used)资源将返回 `HTTP 403 Forbidden`。</span><span class="sxs-lookup"><span data-stu-id="ae29a-146">For a user who has disabled item insights, querying the [trending](/graph/api/resources/insights-trending) and [used](/graph/api/resources/insights-used) resources in Microsoft Graph API return `HTTP 403 Forbidden`.</span></span>


## <a name="transition-period"></a><span data-ttu-id="ae29a-147">过渡期</span><span class="sxs-lookup"><span data-stu-id="ae29a-147">Transition period</span></span>
<span data-ttu-id="ae29a-148">为了适应配置项目见解设置，到 2020年底，Microsoft 365 采用 Delve 设置和项目见解设置，并且如果两者有所不同，则将两者严格化。</span><span class="sxs-lookup"><span data-stu-id="ae29a-148">To accommodate configuring item insights settings, through the end of 2020, Microsoft 365 respects both Delve settings and item insights settings, and enforces the stricter of the two if they differ.</span></span> <span data-ttu-id="ae29a-149">这意味着，如果用户通过 Delve 控件或项目见解设置选择退出，则认为用户已退出项目见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-149">This means that a user is considered as opted out of item insights if the user has opted out by either Delve controls or item insights settings.</span></span>

<span data-ttu-id="ae29a-150">在此过渡期后，Delve 设置仅控制 Delve 体验，并且项目见解设置仅影响 Microsoft Graph 项目见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-150">After this transition period, Delve settings control only Delve experience, and item insights settings affect only Microsoft Graph item insights.</span></span> <span data-ttu-id="ae29a-151">确保根据组织的要求配置项目见解。</span><span class="sxs-lookup"><span data-stu-id="ae29a-151">Make sure to configure item insights according to your organization's requirements.</span></span>


> [!NOTE]
> <span data-ttu-id="ae29a-152">过渡期间，由于技术原因，如果组织为所有用户禁用项目见解，则 SharePoint 起始页可能会提供过时的建议。</span><span class="sxs-lookup"><span data-stu-id="ae29a-152">During the transition period, due to technical reasons, the SharePoint start page may provide stale suggestions if an organization disables item insights for all users.</span></span> <span data-ttu-id="ae29a-153">此问题将在未来的服务器端更改中得到解决。</span><span class="sxs-lookup"><span data-stu-id="ae29a-153">This issue will be addressed in upcoming server-side changes.</span></span> 
