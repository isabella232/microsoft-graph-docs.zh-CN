# <a name="use-the-microsoft-graph-api-to-work-with-microsoft-teams"></a><span data-ttu-id="04325-101">将 Microsoft Graph API 与 Microsoft Teams 结合使用</span><span class="sxs-lookup"><span data-stu-id="04325-101">Use the Microsoft Graph API to work with Microsoft Teams</span></span>



<span data-ttu-id="04325-102">Microsoft 团队是基于聊天提供内置访问特定于团队的日历、 文件、 OneNote 笔记、 计划程序计划和更多的 Office 365 中工作区。</span><span class="sxs-lookup"><span data-stu-id="04325-102">Microsoft Teams is a chat-based workspace in Office 365 that provides built-in access to team-specific calendars, files, OneNote notes, Planner plans, and more.</span></span>

## <a name="key-resources-in-microsoft-teams"></a><span data-ttu-id="04325-103">在 Microsoft 团队中的关键资源</span><span class="sxs-lookup"><span data-stu-id="04325-103">Key resources in Microsoft Teams</span></span>

| <span data-ttu-id="04325-104">资源</span><span class="sxs-lookup"><span data-stu-id="04325-104">Resource</span></span> | <span data-ttu-id="04325-105">方法</span><span class="sxs-lookup"><span data-stu-id="04325-105">Methods</span></span> |
|:---------------|:--------|
|[<span data-ttu-id="04325-106">团队</span><span class="sxs-lookup"><span data-stu-id="04325-106">team</span></span>](../resources/team.md)| <span data-ttu-id="04325-107">[列出您的团队](../api/user_list_joinedteams.md)、[列出所有团队](../../../concepts/teams_list_all_teams.md)、[创建](../api/team_put_teams.md)、[读取](../api/team_get.md)、[更新](../api/team_update.md)、[删除](../../v1.0/api/group_delete.md)、[克隆](../api/team_clone.md)、[存档](../api/team_archive.md)、 [unarchive](../api/team_unarchive.md)</span><span class="sxs-lookup"><span data-stu-id="04325-107">[list your teams](../api/user_list_joinedteams.md), [list all teams](../../../concepts/teams_list_all_teams.md), [create](../api/team_put_teams.md), [read](../api/team_get.md), [update](../api/team_update.md), [delete](../../v1.0/api/group_delete.md), [clone](../api/team_clone.md), [archive](../api/team_archive.md), [unarchive](../api/team_unarchive.md)</span></span> |
|[<span data-ttu-id="04325-108">组</span><span class="sxs-lookup"><span data-stu-id="04325-108">group</span></span>](../resources/group.md)| <span data-ttu-id="04325-109">[将成员添加](../api/group_post_members.md)、 [删除成员](../api/group_delete_members.md)、[添加所有者](../api/group_post_owners.md)、 [删除所有者](../api/group_delete_owners.md)，[获取文件](drive.md)、[获取笔记本](../../v1.0/resources/notebook.md)，[获取计划](plannergroup.md)、[获取日历](event.md)</span><span class="sxs-lookup"><span data-stu-id="04325-109">[add member](../api/group_post_members.md), [remove member](../api/group_delete_members.md), [add owner](../api/group_post_owners.md), [remove owner](../api/group_delete_owners.md), [get files](drive.md), [get notebook](../../v1.0/resources/notebook.md), [get plans](plannergroup.md), [get calendar](event.md)</span></span> |
|[<span data-ttu-id="04325-110">通道</span><span class="sxs-lookup"><span data-stu-id="04325-110">channel</span></span>](../resources/channel.md)|<span data-ttu-id="04325-111">[列表](../api/channel_list.md)、[创建](../api/channel_post.md)、[读取](../api/channel_get.md)、[更新](../api/channel_patch.md)、[删除](../api/channel_delete.md)</span><span class="sxs-lookup"><span data-stu-id="04325-111">[list](../api/channel_list.md), [create](../api/channel_post.md), [read](../api/channel_get.md), [update](../api/channel_patch.md), [delete](../api/channel_delete.md)</span></span>|
|[<span data-ttu-id="04325-112">teamsTab</span><span class="sxs-lookup"><span data-stu-id="04325-112">teamsTab</span></span>](../resources/teamstab.md) |<span data-ttu-id="04325-113">[列表](../api/teamstab_list.md)、[创建](../api/teamstab_add.md)、[读取](../api/teamstab_get.md)、[更新](../api/teamstab_update.md)、[删除](../api/teamstab_delete.md)</span><span class="sxs-lookup"><span data-stu-id="04325-113">[list](../api/teamstab_list.md), [create](../api/teamstab_add.md), [read](../api/teamstab_get.md), [update](../api/teamstab_update.md), [delete](../api/teamstab_delete.md)</span></span> |
|[<span data-ttu-id="04325-114">teamsApp</span><span class="sxs-lookup"><span data-stu-id="04325-114">teamsApp</span></span>](../resources/teamsapp.md)|<span data-ttu-id="04325-115">[列表](../api/teamsapp_list.md)、[发布](../api/teamsapp_publish.md)、[更新](../api/teamsapp_update.md)、[删除](../api/teamsapp_delete.md)</span><span class="sxs-lookup"><span data-stu-id="04325-115">[list](../api/teamsapp_list.md), [publish](../api/teamsapp_publish.md), [update](../api/teamsapp_update.md), [remove](../api/teamsapp_delete.md)</span></span>|
|[<span data-ttu-id="04325-116">teamsAppInstallation</span><span class="sxs-lookup"><span data-stu-id="04325-116">teamsAppInstallation</span></span>](../resources/teamsappinstallation.md)| <span data-ttu-id="04325-117">[列表](../api/teamsappinstallation_list.md)、[安装](../api/teamsappinstallation_add.md)、[升级](../api/teamsappinstallation_delete.md)、[删除](../api/teamsappinstallation_delete.md)</span><span class="sxs-lookup"><span data-stu-id="04325-117">[list](../api/teamsappinstallation_list.md), [install](../api/teamsappinstallation_add.md), [upgrade](../api/teamsappinstallation_delete.md), [remove](../api/teamsappinstallation_delete.md)</span></span> |
| <span data-ttu-id="04325-118">（预览）[chatMessage](../../beta/resources/chatmessage.md)和[chatThread](../../beta/resources/chatthread.md)</span><span class="sxs-lookup"><span data-stu-id="04325-118">(Preview) [chatMessage](../../beta/resources/chatmessage.md) and [chatThread](../../beta/resources/chatthread.md)</span></span> | <span data-ttu-id="04325-119">[列表](../../beta/api/channel_list_messages.md)、[创建](../../beta/api/channel_post_chatthreads.md)、[读取](../../beta/api/channel_get_message.md)</span><span class="sxs-lookup"><span data-stu-id="04325-119">[list](../../beta/api/channel_list_messages.md), [create](../../beta/api/channel_post_chatthreads.md), [read](../../beta/api/channel_get_message.md)</span></span> |
| <span data-ttu-id="04325-120">（预览）[呼叫](../../beta/resources/call.md)</span><span class="sxs-lookup"><span data-stu-id="04325-120">(Preview) [call](../../beta/resources/call.md)</span></span> | <span data-ttu-id="04325-121">[应答](../../beta/api/call_answer.md)、[拒绝](../../beta/api/call_reject.md)、[重定向](../../beta/api/call_redirect.md)、[设为静音](../../beta/api/call_mute.md)、[取消静音](../../beta/api/call_unmute.md)、[更新元数据](../../beta/api/call_updatemetadata.md)、[更改屏幕共享角色](../../beta/api/call_changescreensharingrole.md)，[列表参与者](../../beta/api/call_list_participants.md)，[邀请参与者](../../beta/api/participant_invite.md)，[将所有参与者设为都静音](../../beta/api/participant_muteall.md)</span><span class="sxs-lookup"><span data-stu-id="04325-121">[answer](../../beta/api/call_answer.md), [reject](../../beta/api/call_reject.md), [redirect](../../beta/api/call_redirect.md), [mute](../../beta/api/call_mute.md), [unmute](../../beta/api/call_unmute.md), [update metadata](../../beta/api/call_updatemetadata.md), [change screen sharing role](../../beta/api/call_changescreensharingrole.md), [list participants](../../beta/api/call_list_participants.md), [invite participants](../../beta/api/participant_invite.md), [mute all participants](../../beta/api/participant_muteall.md)</span></span> |

## <a name="teams-and-groups"></a><span data-ttu-id="04325-122">团队和组</span><span class="sxs-lookup"><span data-stu-id="04325-122">Teams and groups</span></span>

<span data-ttu-id="04325-123">在 Microsoft Graph 中的 Microsoft 团队由此[group](../resources/group.md)资源。</span><span class="sxs-lookup"><span data-stu-id="04325-123">In Microsoft Graph, Microsoft Teams is represented by a [group](../resources/group.md) resource.</span></span> <span data-ttu-id="04325-124">Microsoft 团队和 Office 365 组通讯组协作的各种需求。</span><span class="sxs-lookup"><span data-stu-id="04325-124">Both Microsoft Teams and Office 365 groups address the various needs of group collaboration.</span></span> <span data-ttu-id="04325-125">几乎所有的基于组的功能适用于 Microsoft 团队和 Office 365 组，例如组日历、 文件、 备注和照片，计划，等等。</span><span class="sxs-lookup"><span data-stu-id="04325-125">Almost all the group-based features apply to Microsoft Teams and Office 365 groups, such as group calendar, files, notes, photo, plans, and so on.</span></span> <span data-ttu-id="04325-126">[团队](team.md)和 Office 365 组的主要区别是通信的成员之间的模式。</span><span class="sxs-lookup"><span data-stu-id="04325-126">The main difference between a [team](team.md) and an Office 365 group is the mode of communication between members.</span></span> <span data-ttu-id="04325-127">通过特定的团队的上下文中的持久聊天，团队成员进行通信。</span><span class="sxs-lookup"><span data-stu-id="04325-127">Team members communicate by persistent chat in the context of a specific team.</span></span> <span data-ttu-id="04325-128">Office 365 的组成员的组对话，是在 Outlook 中的组的上下文中发生的电子邮件对话进行通信。</span><span class="sxs-lookup"><span data-stu-id="04325-128">Office 365 group members communicate by group conversations, which are email conversations that occur in the context of a group in Outlook.</span></span>

<span data-ttu-id="04325-129">有一个团队任何组具有**resourceProvisioningOptions**属性包含"团队"。</span><span class="sxs-lookup"><span data-stu-id="04325-129">Any group that has a team has a **resourceProvisioningOptions** property that contains "Team".</span></span> 

><span data-ttu-id="04325-130">**注意：** 可以更改**Group.resourceProvisioningOptions**属性。</span><span class="sxs-lookup"><span data-stu-id="04325-130">**Note:** The **Group.resourceProvisioningOptions** property can be changed.</span></span>
<span data-ttu-id="04325-131">添加或移除集合;"团队"否则，您将获取错误的结果时您列出所有团队。</span><span class="sxs-lookup"><span data-stu-id="04325-131">Do not add or remove "Team" from that collection; otherwise, you'll get incorrect results when you list all teams.</span></span>

<span data-ttu-id="04325-132">API 级别团队和组之间的差异如下：</span><span class="sxs-lookup"><span data-stu-id="04325-132">The following are the differences at the API level between teams and groups:</span></span>

- <span data-ttu-id="04325-133">[列表加入团队](../api/user_list_joinedteams.md)方法仅适用于 Microsoft 团队。</span><span class="sxs-lookup"><span data-stu-id="04325-133">The [List joined teams](../api/user_list_joinedteams.md) method applies only to Microsoft Teams.</span></span>
- <span data-ttu-id="04325-134">另请参阅[已知问题](../../../concepts/known_issues.md)的这些 Api。</span><span class="sxs-lookup"><span data-stu-id="04325-134">See also the [known issues](../../../concepts/known_issues.md) for these APIs.</span></span>

><span data-ttu-id="04325-135">**注意：** 如果您使用-例如作为选项卡或自动程序的 Microsoft 团队中运行的一部分-组 API[的 Microsoft 团队应用程序](https://docs.microsoft.com/en-us/microsoftteams/platform/#apps-in-microsoft-teams)中，而不是独立应用程序中按照[您的 Microsoft 团队的页面中使用 Microsoft Graph](https://docs.microsoft.com/en-us/microsoftteams/platform/resources/microsoft-graph)一文中的指南。</span><span class="sxs-lookup"><span data-stu-id="04325-135">**Note:** If you use the groups API in a [Microsoft Teams app](https://docs.microsoft.com/en-us/microsoftteams/platform/#apps-in-microsoft-teams) rather than in a standalone app - for example as part of a tab or bot running in Microsoft Teams - follow the guidance in the article [Using Microsoft Graph in your Microsoft Teams pages](https://docs.microsoft.com/en-us/microsoftteams/platform/resources/microsoft-graph).</span></span>

## <a name="membership-changes-in-microsoft-teams"></a><span data-ttu-id="04325-136">在 Microsoft 团队的成员身份更改</span><span class="sxs-lookup"><span data-stu-id="04325-136">Membership changes in Microsoft Teams</span></span>

<span data-ttu-id="04325-137">若要添加到团队成员和所有者，更改具有相同的 id。 的[组](../resources/group.md)的成员资格</span><span class="sxs-lookup"><span data-stu-id="04325-137">To add members and owners to a team, change the membership of the [group](../resources/group.md) with the same ID.</span></span>

| <span data-ttu-id="04325-138">用例</span><span class="sxs-lookup"><span data-stu-id="04325-138">Use case</span></span>      | <span data-ttu-id="04325-139">Verb</span><span class="sxs-lookup"><span data-stu-id="04325-139">Verb</span></span>      | <span data-ttu-id="04325-140">URL</span><span class="sxs-lookup"><span data-stu-id="04325-140">URL</span></span> |
| ------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [<span data-ttu-id="04325-141">Add member</span><span class="sxs-lookup"><span data-stu-id="04325-141">Add member</span></span>](../api/group_post_members.md)    | <span data-ttu-id="04325-142">POST</span><span class="sxs-lookup"><span data-stu-id="04325-142">POST</span></span>      | <span data-ttu-id="04325-143">/groups/ {id} /members/ ref</span><span class="sxs-lookup"><span data-stu-id="04325-143">/groups/{id}/members/$ref</span></span>  |
| [<span data-ttu-id="04325-144">删除成员</span><span class="sxs-lookup"><span data-stu-id="04325-144">Remove member</span></span>](../api/group_delete_members.md)   | <span data-ttu-id="04325-145">DELETE</span><span class="sxs-lookup"><span data-stu-id="04325-145">DELETE</span></span>    | <span data-ttu-id="04325-146">/groups/ {id} /members/ {userId} / $ref</span><span class="sxs-lookup"><span data-stu-id="04325-146">/groups/{id}/members/{userId}/$ref</span></span> |
| [<span data-ttu-id="04325-147">添加所有者</span><span class="sxs-lookup"><span data-stu-id="04325-147">Add owner</span></span>](../api/group_post_owners.md)     | <span data-ttu-id="04325-148">POST</span><span class="sxs-lookup"><span data-stu-id="04325-148">POST</span></span>       | <span data-ttu-id="04325-149">/groups/ {id} /owners/ ref</span><span class="sxs-lookup"><span data-stu-id="04325-149">/groups/{id}/owners/$ref</span></span> |
| [<span data-ttu-id="04325-150">删除所有者</span><span class="sxs-lookup"><span data-stu-id="04325-150">Remove owner</span></span>](../api/group_delete_owners.md) | <span data-ttu-id="04325-151">DELETE</span><span class="sxs-lookup"><span data-stu-id="04325-151">DELETE</span></span>    | <span data-ttu-id="04325-152">/groups/ {id} /owners/ {userId} / $ref</span><span class="sxs-lookup"><span data-stu-id="04325-152">/groups/{id}/owners/{userId}/$ref</span></span> |
| [<span data-ttu-id="04325-153">更新团队</span><span class="sxs-lookup"><span data-stu-id="04325-153">Update team</span></span>](../api/team_update.md)  | <span data-ttu-id="04325-154">PATCH</span><span class="sxs-lookup"><span data-stu-id="04325-154">PATCH</span></span>     | <span data-ttu-id="04325-155">/teams/ {id}</span><span class="sxs-lookup"><span data-stu-id="04325-155">/teams/{id}</span></span> |

<span data-ttu-id="04325-156">我们建议时添加所有者，您还添加用户作为成员。</span><span class="sxs-lookup"><span data-stu-id="04325-156">We recommend that when you add an owner, you also add that user as a member.</span></span> <span data-ttu-id="04325-157">如果团队都有一个所有者不是成员，所有权和成员身份更改可能不显示立即在 Microsoft 团队。</span><span class="sxs-lookup"><span data-stu-id="04325-157">If a team has an owner who is not also a member, ownership and membership changes might not show up immediately in Microsoft Teams.</span></span> <span data-ttu-id="04325-158">此外，不同的应用程序和 Api 将处理的以不同方式。</span><span class="sxs-lookup"><span data-stu-id="04325-158">In addition, different apps and APIs will handle that differently.</span></span> <span data-ttu-id="04325-159">例如，Microsoft 团队将显示团队时的 Microsoft 团队 PowerShell cmdlet 和/我/joinedTeams API 将仅显示的团队用户是其成员的用户可为成员或的所有者。</span><span class="sxs-lookup"><span data-stu-id="04325-159">For example, Microsoft Teams will show teams that the user is either a member or an owner of, while the Microsoft Teams PowerShell cmdlets and the /me/joinedTeams API will only show teams the user is a member of.</span></span> <span data-ttu-id="04325-160">若要避免混淆，添加到成员列表的所有所有者。</span><span class="sxs-lookup"><span data-stu-id="04325-160">To avoid confusion, add all owners to the members list as well.</span></span> 

<span data-ttu-id="04325-161">已知问题： 当删除 /groups/ {id} / 所有者被调用时，用户也从 /groups/ {id} / 成员列表。</span><span class="sxs-lookup"><span data-stu-id="04325-161">Known issue: when DELETE /groups/{id}/owners is called, the user is also removed from the /groups/{id}/members list.</span></span> <span data-ttu-id="04325-162">若要解决此问题，建议用户移除所有者和成员，然后等待 10 秒钟，然后将其添加回成员。</span><span class="sxs-lookup"><span data-stu-id="04325-162">To work around this, we recommend that you remove the user from both owners and members, then wait 10 seconds, then add them back to members.</span></span>

<span data-ttu-id="04325-163">添加和删除成员和所有者，不要放置大括号内的 {} 周围 id。</span><span class="sxs-lookup"><span data-stu-id="04325-163">When adding and removing members and owners, don't put braces { } around the ID.</span></span>

| <span data-ttu-id="04325-164">Speed</span><span class="sxs-lookup"><span data-stu-id="04325-164">Speed</span></span> | <span data-ttu-id="04325-165">语法</span><span class="sxs-lookup"><span data-stu-id="04325-165">Syntax</span></span> | 
| ------ | ----- |
| <span data-ttu-id="04325-166">快速</span><span class="sxs-lookup"><span data-stu-id="04325-166">Fast</span></span> | <span data-ttu-id="04325-167">https://graph.microsoft.com/v1.0/groups/02bd9fd6-8f93-4758-87c3-1fb73740a315/members/48d31887-5fad-4d73-a9f5-3c356e68a038/$ref</span><span class="sxs-lookup"><span data-stu-id="04325-167">https://graph.microsoft.com/v1.0/groups/02bd9fd6-8f93-4758-87c3-1fb73740a315/members/48d31887-5fad-4d73-a9f5-3c356e68a038/$ref</span></span> | 
| <span data-ttu-id="04325-168">慢速</span><span class="sxs-lookup"><span data-stu-id="04325-168">Slow</span></span> | <span data-ttu-id="04325-169">https://graph.microsoft.com/v1.0/groups/{02bd9fd6-8f93-4758-87c3-1fb73740a315}/members/{48d31887-5fad-4d73-a9f5-3c356e68a038}/$ref</span><span class="sxs-lookup"><span data-stu-id="04325-169">https://graph.microsoft.com/v1.0/groups/{02bd9fd6-8f93-4758-87c3-1fb73740a315}/members/{48d31887-5fad-4d73-a9f5-3c356e68a038}/$ref</span></span> | 

<span data-ttu-id="04325-170">同样，如果`userId`中的 URL 或有效负载表示为 UPN 而不是为 GUID，性能会变慢。</span><span class="sxs-lookup"><span data-stu-id="04325-170">Similarly, if the `userId` in the URL or payload is expressed as a UPN rather than as a GUID, the performance will be slower.</span></span>

| <span data-ttu-id="04325-171">Speed</span><span class="sxs-lookup"><span data-stu-id="04325-171">Speed</span></span> | <span data-ttu-id="04325-172">语法</span><span class="sxs-lookup"><span data-stu-id="04325-172">Syntax</span></span> | 
| ------ | ----- |
| <span data-ttu-id="04325-173">快速</span><span class="sxs-lookup"><span data-stu-id="04325-173">Fast</span></span> | <span data-ttu-id="04325-174">48d31887-5fad-4d73-a9f5-3c356e68a038</span><span class="sxs-lookup"><span data-stu-id="04325-174">48d31887-5fad-4d73-a9f5-3c356e68a038</span></span> | 
| <span data-ttu-id="04325-175">慢速</span><span class="sxs-lookup"><span data-stu-id="04325-175">Slow</span></span> | <span data-ttu-id="04325-176">john@example.com</span><span class="sxs-lookup"><span data-stu-id="04325-176">john@example.com</span></span> | 

<span data-ttu-id="04325-177">如果变为速度较慢的路径，如果当前工作组成员或所有者登录到 Microsoft 团队应用程序/网站时，更改将反映在一个小时内。</span><span class="sxs-lookup"><span data-stu-id="04325-177">When the slower path is taken, if a current team member or owner is signed in to the Microsoft Teams application/website, the change will be reflected within an hour.</span></span>
<span data-ttu-id="04325-178">如果无这些用户已登录到 Microsoft 团队应用程序/网站，更改将不会反映之前小时后两者之一登录。</span><span class="sxs-lookup"><span data-stu-id="04325-178">If none of those users are signed in to the Microsoft Teams application/website, the change will not be reflected until an hour after one of them signs in.</span></span>

## <a name="see-also"></a><span data-ttu-id="04325-179">另请参阅</span><span class="sxs-lookup"><span data-stu-id="04325-179">See also</span></span>

- [<span data-ttu-id="04325-180">Microsoft 团队 API 概述</span><span class="sxs-lookup"><span data-stu-id="04325-180">Microsoft Teams API overview</span></span>](../../../concepts/teams-concept-overview.md)
- <span data-ttu-id="04325-181">示例代码： [Contoso 航空公司](https://github.com/microsoftgraph/contoso-airlines-teams-sample)、 [C# 浮动示例](https://github.com/microsoftgraph/csharp-teams-sample-graph)</span><span class="sxs-lookup"><span data-stu-id="04325-181">Sample code: [Contoso Airlines](https://github.com/microsoftgraph/contoso-airlines-teams-sample), [C# mini-samples](https://github.com/microsoftgraph/csharp-teams-sample-graph)</span></span>
